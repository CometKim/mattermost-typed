// @flow
/* eslint no-undef: "off" */

declare type mattermost$Entity = {
  +id?: string,
  +create_at?: number,
  +update_at?: number,
};

declare type mattermost$PermanentEntity = mattermost$Entity & {
  +delete_at?: number
};

declare type mattermost$Session = {
  id: string,
  token: string,
  create_at: number,
  expires_at: number,
  last_activity_at: number,
  user_id: string,
  device_id: string,
  roles: string,
  is_oauth: boolean,
  props: mattermost$Session$Props,
  team_members: mattermost$TeamMember[]
};

declare type mattermost$Session$Props = {
  browser: string,
  os: string,
  platform: string
};

declare type mattermost$Audit = {
  id: string,
  create_at: number,
  user_id: string,
  action: string,
  extra_info: string,
  ip_address: string,
  session_id: string
};

declare type mattermost$MfaSecret = {
  secret: string,
  qr_code: string
};

declare type mattermost$UserAccessToken = {
  id?: string,
  token?: string,
  user_id?: string,
  description?: string
};

declare type mattermost$FileInfo = {
  id: string,
  user_id: string,
  post_id: string,
  create_at: number,
  update_at: number,
  delete_at: number,
  name: string,
  extension: string,
  size: number,
  mime_type: string,
  width: number,
  height: number,
  has_preview_image: boolean
};

declare type mattermost$Reaction = {
  user_id: string,
  post_id: string,
  emoji_name: string,
  create_at: number
};

declare type mattermost$Preference = { user_id: string } & {
  category: 'notifications',
  name: 'email_interval',
  value: '0' | '30' | '900' | '3600' // zero means 'never', thirty means 'immediately'
} | {
  category: 'direct_channel_show' | 'group_channel_show',
  name: string, // channel's id
  value: 'true' | 'false'
} | {
  category: 'tutorial_step',
  name: string, // user's id
  value: string // numberic
} | {
  category: 'advanced_settings',
  name: 
    | 'feature_enabled_embed_preview' 
    | 'feature_enabled_emojipicker' 
    | 'feature_enabled_markdown_preview' 
    | 'feature_enabled_webrtc_preview' 
    | 'formatting' ,
  value: 'true' | 'false'
} | {
  category: 'flagged_post',
  name: string, // post's id
  value: 'true' | 'false'
} | {
  category: 'favorite_channel',
  name: string, // channel's id
  value: 'true' | 'false'
} | {
  category: 'display_settings',
  name: 'collapse_previews' | 'use_military_time',
  value: 'true' | 'false' 
} | {
  category: 'display_settings',
  name: 'channel_display_mode',
  value: 'full' | 'centered'
} | {
  category: 'display_settings',
  name: 'message_display',
  value: 'clean' | 'compact'
} | {
  category: 'display_settings',
  name: 'name_format',
  value: 'full_name'
} | {
  category: 'display_settings',
  name: 'selected_font',
  value: string // font name
} | {
  category: 'last',
  name: 'team' | 'channel',
  value: string // last team's id or last channel's id
} | {
  category: 'theme',
  name: '',
  value: string
};

declare type mattermost$WebrtcInfo = {
	token: string,
	gateway_url: string,
	stun_uri?: string,
	turn_uri?: string,
	turn_password?: string,
	turn_username?: string
};

declare type mattermost$Emoji = mattermost$PermanentEntity & {
  creator_id?: string,
  name: string
};

declare type mattermost$Job = {
  +id?: string,
  type: 
    | 'data_retention'
    | 'elasticsearch_post_indexing'
    | 'elasticsearch_post_aggregation'
    | 'ldap_sync',
  priority?: number,
  create_at?: number,
  start_at?: number,
  last_activity_at?: number,
  status?: 'pending' | 'in_progress' | 'success' | 'error' | 'cancel_requested' | 'canceled',
  progress?: number,
  data: {}
};

declare type mattermost$ResponseError = {
  +status_code: number,
  +id: string,
  +message: string,
  +request_id: string
};